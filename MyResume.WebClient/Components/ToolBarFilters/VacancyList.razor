@using MyResume.WebClient.Application.Responses.VacancyResponses
@using MyResume.WebClient.Components.Cards
@inject IVacancyService vacancyService

<FluentToolbar id="toolbar-fluent-components-two" style="width:100%; padding:15px; margin-bottom: 5px;">
    <FluentNumberField style="margin:5px;" Step="10000" Min="0" @bind-Value="exampleInt" Appearance="FluentInputAppearance.Filled"
                       Placeholder="от" Label="Укажите запрлату"></FluentNumberField>
    <FluentSelect style="margin:5px;" TOption="string" @bind-SelectedOption=@selectedWorkExperience Label="Опыт работы" Width="200px" Height="250px" />
    <FluentSelect style="margin:5px;" TOption="string" @bind-SelectedOption=@selectedEmploymentType Label="Тип занятости" Width="200px" Height="250px" />
    <FluentSelect style="margin:5px;" TOption="string" @bind-SelectedOption=@selectedWorkSchedule Label="График работы" Width="150px" Height="250px" />

    <FluentButton style="margin:5px;" Appearance="Appearance.Lightweight">@cityHolder</FluentButton>
    <FluentButton style="margin:5px;" Appearance="Appearance.Lightweight">@specializationHolder</FluentButton>

    <FluentButton style="margin:5px;" Appearance="Appearance.Accent">Применить</FluentButton>
</FluentToolbar>

<FluentStack Orientation="Orientation.Vertical">
    @if (VacancyOnCardList is not null)
        @foreach (var item in VacancyOnCardList)
        {
            <VacancyCard Vacancy="item"/>
        }
    else
    {
        <SkeletonCard />
    }
</FluentStack>
@code {
    private List<InfoOnCardVacancyResponse> VacancyOnCardList { get; set; }

    private string? selectedWorkExperience;
    private string? selectedEmploymentType;
    private string? selectedWorkSchedule;
    private string cityHolder = "Выбрать город";
    private string specializationHolder = "Выбрать специальность";
    private int? exampleInt = null;

    protected override async Task OnInitializedAsync()
    {
        await LoadJobSeekerOnCard();
    }

    private async Task LoadJobSeekerOnCard()
    {
        VacancyOnCardList = await vacancyService.GetInfoOnCardOnList();
    }
}
